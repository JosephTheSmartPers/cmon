const { Client, Message, EmbedBuilder, SlashCommandBuilder, CommandInteraction, PermissionFlagsBits } = require("discord.js")
const guildModel = require('../../models/guildSchema')

import('chalk');
const {Command} = require('sylphy');
const imdb = require('imdb-api');

module.exports = {
    ...new SlashCommandBuilder()
    .setName("imdb")
    .setDescription("Search for a movie.")
    .addStringOption(option => option.setName("movie").setDescription("The movie you wanna search for.").setRequired(true)),

    run: async (client, interaction, args) => {

        const searchMovie = interaction.options.getString("movie")
        console.log(searchMovie)
        let movie 
        imdb.get({name: 'The Toxic Avenger'}, {apiKey: '5a16adc7', timeout: 30000}).then(console.log)

        /*let imdbemb = new EmbedBuilder()
            .setColor("#00ff00")
            .setTitle(movie.title)
            .setURL(movie.imdburl)
            .setDescription(movie.plot)
            .setThumbnail(movie.poster)
            .addFields(
                {name: "ğŸ’¯Rate", value: `${movie.rating}/10`, inline: true},
                {name: "â²ï¸Time", value: movie.runtime, inline: true},
                {name: "ğŸ…Awards", value: movie.awards, inline: true},
                {name: "ğŸ“šLangueages", value: movie.languages, inline: true},
                {name: "ğŸ¥Genres", value: movie.genres, inline: true},
                {name: "ğŸ”Recomended age", value: movie.rated, inline: true},
                {name: "ğŸŒCoutry", value: movie.country, inline: true},
                {name: "ğŸ¬Production:", value: `${movie.production}`, inline: true},
                {name: "ğŸ“¥Votes:", value: movie.votes.toString(), inline: true},
                {name: "ğŸ’°Income", value: `${movie.boxoffice}`, inline: true},
                {name: "ğŸ“ƒWriter", value: movie.writer, inline: true},
                {name: "ğŸ“¢Director", value: movie.director, inline: true},
                {name: "ğŸ“…Released", value: `${movie.released}`},
                {name: "ğŸ‘¥Actors", value: movie.actors }
            )

        interaction.reply({embeds: [imdbemb]})
*/
	}
}

